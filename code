#include <stdio.h>
#include <stdlib.h>

struct ply {
    int p_no;
    char p_name[20];
    int p_run;
};

int main() {
    int i, j, n = 0, c, flag = 0;
    struct ply p[100];

    while(1) {
        printf("\nMenu:\n");
        printf("1. Add record\n2. Display record\n3. Sort\n4. Search\n5. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &c);

        switch(c) {
            case 1:
                printf("Enter number of players to add: ");
                scanf("%d", &n);
                for(i = 0; i < n; i++) {
                    printf("\nEnter Player Number : ");
                    scanf("%d", &p[i].p_no);
                    printf("Enter Player Name: ");
                    scanf("%s", p[i].p_name);
                    printf("Enter Player Runs : ");
                    scanf("%d", &p[i].p_run);
                }
                break;

            case 2:
                if(n == 0) {
                    printf("No records available.\n");
                    break;
                }
                for(i = 0; i < n; i++) {
                    printf("\n************************************\n");
                    printf("ID: %d\n", p[i].p_no);
                    printf("Name: %s\n", p[i].p_name);
                    printf("Player Runs: %d\n", p[i].p_run);
                    printf("************************************\n");
                }
                break;

            case 3:
                if(n == 0) {
                    printf("No records to sort.\n");
                    break;
                }
                for(i = 0; i < n - 1; i++) {
                    for(j = 0; j < n - 1 - i; j++) {
                        if(p[j].p_run > p[j + 1].p_run) {
                            struct ply t = p[j];
                            p[j] = p[j + 1];
                            p[j + 1] = t;
                        }
                    }
                }
                printf("\nRecords sorted by runs. Use Display option to Check\n");
                break;

            case 4: {
                if(n == 0) {
                    printf("No records to search.\n");
                    break;
                }
                int search_no;
                printf("\nEnter Player Number to search: ");
                scanf("%d", &search_no);
                flag = 0;

                for(i = 0; i < n; i++) {
                    if(p[i].p_no == search_no) {
                        printf("No: %d\n", p[i].p_no);
                        printf("Name: %s\n", p[i].p_name);
                        printf("Runs: %d\n", p[i].p_run);
                        flag = 1;
                        break;
                    }
                }
                if(flag == 0)
                    printf("Record not found.\n");
                break;
            }

            case 5:
                exit(0);

            default:
                printf("Invalid choice.\n");
        }
    }

    return 0;
}
